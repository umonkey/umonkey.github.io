import"../chunks/entry.C7Ji98pX.js";import{a as q,b as C,w as F,g as G}from"../chunks/api.3STlV-ud.js";import{e as P}from"../chunks/index.D9KYLUwc.js";import{a as W,L as B}from"../chunks/LazyTreeThumbnail.CUfOcLjM.js";import"../chunks/disclose-version.CKFfokN4.js";import{t as m,j as J,a3 as K,e as n,g as d,s as u,k as Q,a4 as E,aq as R,f as V,aE as X}from"../chunks/index.6fWcJMZL.js";import{h as Y}from"../chunks/svelte-head.BsK74sys.js";import{a as l,t as k,d as g}from"../chunks/template.B1mf6kze.js";import{e as Z,i as $}from"../chunks/each.Cwc-_f-6.js";import{H as ee}from"../chunks/Header.CqSyHY-W.js";import{i as y,b as w}from"../chunks/store.XKo8_Y2K.js";import{s as b,h as ae}from"../chunks/attributes.DqpvXwAA.js";import{f as te}from"../chunks/strings.3KeQ7MGz.js";import{r as T}from"../chunks/routes.B1Jkliqe.js";import{e as I,r as re}from"../chunks/events.DaI2Ovby.js";import{b as se}from"../chunks/this.CtCfTEmK.js";import{T as ie}from"../chunks/Tabs.BSOhCCRR.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new a.Error().stack;e&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[e]="359f3506-ce48-4196-8cf2-749800d97373",a._sentryDebugIdIdentifier="sentry-dbid-359f3506-ce48-4196-8cf2-749800d97373")}catch{}})();const L=async()=>{const a=await q.getNewTrees();return a.status!==200&&P("Failed to load comments"),W(a.data.trees),C(a.data.users),{trees:a.data.trees,users:a.data.users}},de=L?F(L):void 0,ze=Object.freeze(Object.defineProperty({__proto__:null,load:de},Symbol.toStringTag,{value:"Module"}));var oe=k('<img loading="lazy" class="svelte-3ppphr">');function ne(a,e){let s;const v=()=>{console.debug(`Error loading image ${e.src}, falling back to ${e.fallback}`),s.src=e.fallback},o=()=>{console.debug("IMAGE LOADED"),s.style.opacity="1"};var r=oe();se(r,c=>s=c,()=>s),m(()=>{b(r,"src",e.src),b(r,"alt",e.alt)}),I("error",r,()=>v()),I("load",r,o),ae(r),re(r),l(a,r)}var le=k('<div class="tree svelte-1rht8tt"><a class="thumbnail svelte-1rht8tt"><!></a> <div class="details svelte-1rht8tt"><div class="species"><a><!></a></div> <div class="address"><!></div> <div class="added"> </div></div> <div class="userpic svelte-1rht8tt"><!></div></div>');function ve(a,e){J(e,!0);const s=K(G)(e.tree.added_by),v=te(e.tree.added_at);var o=le(),r=n(o);m(()=>b(r,"href",T.treeDetails(e.tree.id)));var c=n(r);B(c,{get tree(){return e.tree}}),d(r);var f=u(r,2),_=n(f),h=n(_);m(()=>b(h,"href",T.treeDetails(e.tree.id)));var z=n(h);{var N=t=>{var i=g();m(()=>w(i,e.tree.species)),l(t,i)},U=t=>{var i=g("Unknown species");l(t,i)};y(z,t=>{e.tree.species?t(N):t(U,!1)})}d(h),d(_);var p=u(_,2),j=n(p);{var O=t=>{var i=g();m(()=>w(i,e.tree.address)),l(t,i)},S=t=>{var i=g("Unknown address");l(t,i)};y(j,t=>{e.tree.address?t(O):t(S,!1)})}d(p);var x=u(p,2),A=n(x);d(x),d(f);var D=u(f,2),H=n(D);{var M=t=>{var i=R(()=>T.file(s.picture));ne(t,{get src(){return E(i)},get alt(){return s.name},fallback:"/user.png"})};y(H,t=>{s.picture&&t(M)})}d(D),d(o),m(()=>w(A,`${v??""} Â· ${s.name??""}`)),l(a,o),Q()}var ce=k('<!> <!> <div class="trees padded svelte-8e2s3"></div>',1);function Ne(a,e){const{trees:s}=e.data;var v=ce();Y(f=>{X.title="New Trees"});var o=V(v);ee(o,{title:"New Trees"});var r=u(o,2);ie(r,{active:"new"});var c=u(r,2);Z(c,21,()=>s,$,(f,_)=>{ve(f,{get tree(){return E(_)}})}),d(c),l(a,v)}export{Ne as component,ze as universal};
