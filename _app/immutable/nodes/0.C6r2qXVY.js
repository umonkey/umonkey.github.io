import"../chunks/disclose-version.Bny3gfsA.js";import{b as kt,h as st,a as nt,c as zt,d as it,V as Mt,aJ as Ot,aI as Rt,x as Bt,N as Lt,m as Nt,E as jt,aR as Dt,aS as Ft,o as Pt,u as qt,at as Ut,q as Ht,l as j,aT as Gt,D as ot,aU as Kt,aV as Vt,az as lt,al as ct,P as Wt,j as q,t as P,k as U,s as E,e as p,g as u,n as L,a6 as Zt,aG as D,a4 as $,aW as F,aX as gt,ab as B,ax as N,f as Q,a5 as ft}from"../chunks/index.6fWcJMZL.js";import{f as vt,g as Jt,a as T,n as X,t as R,c as dt}from"../chunks/template.Cy3dU-Fh.js";import{s as Xt}from"../chunks/snippet.DRJJcRDZ.js";import{i as Y}from"../chunks/legacy.D-anx2rK.js";import{d as Yt,s as rt,i as V,a as W}from"../chunks/store.C3yr5Ypf.js";import{s as Z,a as Qt}from"../chunks/attributes._hmteFvG.js";import{M as yt}from"../chunks/MapIcon.BmwGxmBz.js";import{S as wt}from"../chunks/SearchIcon.BNj4Lim-.js";import{i as te,a as ee}from"../chunks/auth.D_E-pkxn.js";import{r as bt}from"../chunks/routes.D1YDAj2-.js";import{c as ae,e as re}from"../chunks/each.DbABizDz.js";import{t as ut,s as se}from"../chunks/class.6EILLfGK.js";import{p as tt,s as ne}from"../chunks/props.CXIUh43G.js";import{t as et}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.kVwYKxLT.js";import{e as G}from"../chunks/events.MNT5-Jkf.js";import{c as ie}from"../chunks/svelte-component.BhJ9DOgb.js";import{o as oe,a as le}from"../chunks/index-client.C5CATLzA.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="9cc96507-adc4-4655-9664-2f43d1399496",t._sentryDebugIdIdentifier="sentry-dbid-9cc96507-adc4-4655-9664-2f43d1399496")}catch{}})();function ce(t,e,n,i,a){var r=t,o="",c;kt(()=>{if(o===(o=e()??"")){st&&nt();return}c!==void 0&&(Nt(c),c=void 0),o!==""&&(c=zt(()=>{if(st){it.data;for(var l=nt(),f=l;l!==null&&(l.nodeType!==8||l.data!=="");)f=l,l=Mt(l);if(l===null)throw Ot(),Rt;vt(it,f),r=Bt(l);return}var d=o+"",s=Jt(d);vt(Lt(s),s.lastChild),r.before(s)}))})}const fe=()=>performance.now(),M={tick:t=>requestAnimationFrame(t),now:()=>fe(),tasks:new Set};function xt(){const t=M.now();M.tasks.forEach(e=>{e.c(t)||(M.tasks.delete(e),e.f())}),M.tasks.size!==0&&M.tick(xt)}function $t(t){let e;return M.tasks.size===0&&M.tick(xt),{promise:new Promise(n=>{M.tasks.add(e={c:t,f:n})}),abort(){M.tasks.delete(e)}}}function K(t,e){t.dispatchEvent(new CustomEvent(e))}function ve(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function pt(t){const e={},n=t.split(";");for(const i of n){const[a,r]=i.split(":");if(!a||r===void 0)break;const o=ve(a.trim());e[o]=r.trim()}return e}const de=t=>t;function ue(t,e,n){var i=ae,a,r,o,c=null;i.a??(i.a={element:t,measure(){a=this.element.getBoundingClientRect()},apply(){if(o==null||o.abort(),r=this.element.getBoundingClientRect(),a.left!==r.left||a.right!==r.right||a.top!==r.top||a.bottom!==r.bottom){const l=e()(this.element,{from:a,to:r},n==null?void 0:n());o=J(this.element,l,void 0,1,()=>{o==null||o.abort(),o=void 0})}},fix(){if(!t.getAnimations().length){var{position:l,width:f,height:d}=getComputedStyle(t);if(l!=="absolute"&&l!=="fixed"){var s=t.style;c={position:s.position,width:s.width,height:s.height,transform:s.transform},s.position="absolute",s.width=f,s.height=d;var v=t.getBoundingClientRect();if(a.left!==v.left||a.top!==v.top){var b=`translate(${a.left-v.left}px, ${a.top-v.top}px)`;s.transform=s.transform?`${s.transform} ${b}`:b}}}},unfix(){if(c){var l=t.style;l.position=c.position,l.width=c.width,l.height=c.height,l.transform=c.transform}}}),i.a.element=t}function ht(t,e,n,i){var a=(t&Gt)!==0,r=(t&Kt)!==0,o=a&&r,c=(t&Vt)!==0,l=o?"both":a?"in":"out",f,d=e.inert,s,v;function b(){var _=Wt,C=ot;lt(null),ct(null);try{return f??(f=n()(e,(i==null?void 0:i())??{},{direction:l}))}finally{lt(_),ct(C)}}var w={is_global:c,in(){var _;if(e.inert=d,!a){v==null||v.abort(),(_=v==null?void 0:v.reset)==null||_.call(v);return}r||s==null||s.abort(),K(e,"introstart"),s=J(e,b(),v,1,()=>{K(e,"introend"),s==null||s.abort(),s=f=void 0})},out(_){if(!r){_==null||_(),f=void 0;return}e.inert=!0,K(e,"outrostart"),v=J(e,b(),s,0,()=>{K(e,"outroend"),_==null||_()})},stop:()=>{s==null||s.abort(),v==null||v.abort()}},h=ot;if((h.transitions??(h.transitions=[])).push(w),a&&Yt){var m=c;if(!m){for(var y=h.parent;y&&y.f&jt;)for(;(y=y.parent)&&!(y.f&Dt););m=!y||(y.f&Ft)!==0}m&&Pt(()=>{qt(()=>w.in())})}}function J(t,e,n,i,a){var r=i===1;if(Ut(e)){var o,c=!1;return Ht(()=>{if(!c){var m=e({direction:r?"in":"out"});o=J(t,m,n,i,a)}}),{abort:()=>{c=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return a(),{abort:j,deactivate:j,reset:j,t:()=>i};const{delay:l=0,css:f,tick:d,easing:s=de}=e;var v=[];if(r&&n===void 0&&(d&&d(0,1),f)){var b=pt(f(0,1));v.push(b,b)}var w=()=>1-i,h=t.animate(v,{duration:l});return h.onfinish=()=>{var m=(n==null?void 0:n.t())??1-i;n==null||n.abort();var y=i-m,_=e.duration*Math.abs(y),C=[];if(_>0){if(f)for(var A=Math.ceil(_/16.666666666666668),k=0;k<=A;k+=1){var O=m+y*s(k/A),I=f(O,1-O);C.push(pt(I))}w=()=>{var S=h.currentTime;return m+y*s(S/_)},d&&$t(()=>{if(h.playState!=="running")return!1;var S=w();return d(S,1-S),!0})}h=t.animate(C,{duration:_,fill:"forwards"}),h.onfinish=()=>{w=()=>i,d==null||d(i,1-i),a()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=j)},deactivate:()=>{a=j},reset:()=>{i===0&&(d==null||d(1,0))},t:()=>w()}}const pe=!1,ia=Object.freeze(Object.defineProperty({__proto__:null,ssr:pe},Symbol.toStringTag,{value:"Module"}));var he=X('<svg fill="currentColor" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 25.4c0 45.4-15.5 89.5-43.8 124.9L5.3 377c-5.8 7.2-6.9 17.1-2.9 25.4S14.8 416 24 416l400 0c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C399.5 322.9 384 278.8 384 233.4l0-25.4c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm0 96c61.9 0 112 50.1 112 112l0 25.4c0 47.9 13.9 94.6 39.7 134.6L72.3 368C98.1 328 112 281.3 112 233.4l0-25.4c0-61.9 50.1-112 112-112zm64 352l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z"></path></svg>');function Ct(t){var e=he();T(t,e)}var _e=X('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 576 512"><path d="M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"></path></svg>');function St(t){var e=_e();T(t,e)}var me=X('<svg fill="currentColor" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464l349.5 0c-8.9-63.3-63.3-112-129-112l-91.4 0c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3z"></path></svg>');function Et(t){var e=me();T(t,e)}var ge=R('<img alt="userpic" class="svelte-11rxhyi">'),ye=R('<nav class="mobile svelte-11rxhyi"><a href="/" class="svelte-11rxhyi"><div class="svelte-11rxhyi"><!></div></a> <a href="/search" class="svelte-11rxhyi"><div class="svelte-11rxhyi"><!></div></a> <a href="/map" class="svelte-11rxhyi"><div class="svelte-11rxhyi"><!></div></a> <a class="svelte-11rxhyi"><div class="svelte-11rxhyi"><!></div></a> <a href="/profile" class="svelte-11rxhyi"><div class="svelte-11rxhyi"><!></div></a></nav>');function we(t,e){q(e,!1);const n=rt(),i=()=>W(te,"$isAuthenticated",n),a=()=>W(ee,"$authState",n);Y();var r=ye(),o=p(r),c=p(o),l=p(c);St(l),u(c),u(o);var f=E(o,2),d=p(f),s=p(d);wt(s,{}),u(d),u(f);var v=E(f,2),b=p(v),w=p(b);yt(w),u(b),u(v);var h=E(v,2);P(()=>Z(h,"href",bt.newTrees()));var m=p(h),y=p(m);Ct(y),u(m),u(h);var _=E(h,2),C=p(_),A=p(C);{var k=I=>{var S=ge();P(()=>Z(S,"src",a().picture)),T(I,S)},O=I=>{Et(I)};V(A,I=>{var S;i()&&((S=a())!=null&&S.picture)?I(k):I(O,!1)})}u(C),u(_),u(r),T(t,r),U()}var be=X('<svg fill="currentColor" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"></path></svg>');function xe(t){var e=be();T(t,e)}var $e=R('<aside class="left svelte-3urded"><ul class="svelte-3urded"><li><a href="/" class="svelte-3urded"><span class="icon svelte-3urded"><!></span> <span>Home</span></a></li> <li><a href="/search" class="svelte-3urded"><span class="icon svelte-3urded"><!></span> <span>Search</span></a></li> <li><a href="/map" class="svelte-3urded"><span class="icon svelte-3urded"><!></span> <span>Explore Map</span></a></li> <li><a class="svelte-3urded"><span class="icon svelte-3urded"><!></span> <span>Recent updates</span></a></li> <li><a href="/profile" class="svelte-3urded"><span class="icon svelte-3urded"><!></span> <span>Profile</span></a></li> <li><a href="/add" class="svelte-3urded"><span class="icon svelte-3urded"><!></span> <span>Add a tree</span></a></li></ul></aside>');function Ce(t,e){q(e,!1),Y();var n=$e(),i=p(n),a=p(i),r=p(a),o=p(r),c=p(o);St(c),u(o),L(2),u(r),u(a);var l=E(a,2),f=p(l),d=p(f),s=p(d);wt(s,{}),u(d),L(2),u(f),u(l);var v=E(l,2),b=p(v),w=p(b),h=p(w);yt(h),u(w),L(2),u(b),u(v);var m=E(v,2),y=p(m);P(()=>Z(y,"href",bt.newTrees()));var _=p(y),C=p(_);Ct(C),u(_),L(2),u(y),u(m);var A=E(m,2),k=p(A),O=p(k),I=p(O);Et(I),u(O),L(2),u(k),u(A);var S=E(A,2),H=p(S),g=p(H),x=p(g);xe(x),u(g),L(2),u(H),u(S),u(i),u(n),T(t,n),U()}var Se=R('<aside class="right svelte-11fnoi8"><!></aside>');function Ee(t){var e=Se(),n=p(e);V(n,i=>{}),u(e),T(t,e)}const Te=t=>t;function Ie(t){const e=t-1;return e*e*e+1}function _t(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function Ae(t,{delay:e=0,duration:n=400,easing:i=Te}={}){const a=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*a}`}}function ke(t,{delay:e=0,duration:n=400,easing:i=Ie,x:a=0,y:r=0,opacity:o=0}={}){const c=getComputedStyle(t),l=+c.opacity,f=c.transform==="none"?"":c.transform,d=l*(1-o),[s,v]=_t(a),[b,w]=_t(r);return{delay:e,duration:n,easing:i,css:(h,m)=>`
			transform: ${f} translate(${(1-h)*s}${v}, ${(1-h)*b}${w});
			opacity: ${l-d*m}`}}function Tt(t){return t}function ze(t){const e=t-1;return e*e*e+1}function Me(t,{from:e,to:n},i={}){var a=getComputedStyle(t),r=Oe(t),o=a.transform==="none"?"":a.transform,[c,l]=a.transformOrigin.split(" ").map(parseFloat),f=e.width/n.width,d=e.height/n.height,s=(e.left+f*c-(n.left+c))/r,v=(e.top+d*l-(n.top+l))/r,{delay:b=0,duration:w=m=>Math.sqrt(m)*120,easing:h=ze}=i;return{delay:b,duration:typeof w=="function"?w(Math.sqrt(s*s+v*v)):w,easing:h,css:(m,y)=>{var _=y*s,C=y*v,A=m+y*f,k=m+y*d;return`transform: ${o} scale(${A}, ${k}) translate(${_}px, ${C}px);`}}}function Oe(t){if("currentCSSZoom"in t)return t.currentCSSZoom;for(var e=t,n=1;e!==null;)n*=+getComputedStyle(e).zoom,e=e.parentElement;return n}function mt(t){return Object.prototype.toString.call(t)==="[object Date]"}function at(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=e.map((a,r)=>at(t[r],a));return a=>i.map(r=>r(a))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(mt(t)&&mt(e)){const r=t.getTime(),c=e.getTime()-r;return l=>new Date(r+l*c)}const i=Object.keys(e),a={};return i.forEach(r=>{a[r]=at(t[r],e[r])}),r=>{const o={};return i.forEach(c=>{o[c]=a[c](r)}),o}}if(n==="number"){const i=e-t;return a=>t+a*i}throw new Error(`Cannot interpolate ${n} values`)}function Re(t,e={}){const n=Zt(t);let i,a=t;function r(o,c){if(a=o,t==null)return n.set(t=o),Promise.resolve();let l=i,f=!1,{delay:d=0,duration:s=400,easing:v=Tt,interpolate:b=at}={...e,...c};if(s===0)return l&&(l.abort(),l=null),n.set(t=a),Promise.resolve();const w=M.now()+d;let h;return i=$t(m=>{if(m<w)return!0;f||(h=b(t,o),typeof s=="function"&&(s=s(t,o)),f=!0),l&&(l.abort(),l=null);const y=m-w;return y>s?(n.set(t=o),!1):(n.set(t=h(v(y/s))),!0)}),i.promise}return{set:r,update:(o,c)=>r(o(a,t),c),subscribe:n.subscribe}}var Be=R('<div class="_toastBtn pe svelte-l65oht" role="button" tabindex="0"></div>'),Le=R('<div role="status" class="_toastItem svelte-l65oht"><div class="_toastMsg svelte-l65oht"><!></div> <!> <progress class="_toastBar svelte-l65oht"></progress></div>');function Ne(t,e){q(e,!1);const n=rt(),i=()=>W(s,"$progress",n);let a=tt(e,"item",12),r=D(a().initial),o=D($(r)),c=D(!1),l=D({}),f,d;const s=Re(a().initial,{duration:a().duration,easing:Tt});function v(g){g&&(d=g),et.pop(a().id)}function b(){(i()===1||i()===0)&&v()}function w(){!$(c)&&i()!==$(r)&&(s.set(i(),{duration:0}),B(c,!0))}function h(){if($(c)){const g=a().duration,x=g-g*((i()-$(o))/($(r)-$(o)));s.set($(r),{duration:x}).then(b),B(c,!1)}}function m(g,x="undefined"){return typeof g===x}function y(g=document){if(m(g.hidden))return;const x=()=>g.hidden?w():h(),z="visibilitychange";g.addEventListener(z,x),f=()=>g.removeEventListener(z,x),x()}oe(y),le(()=>{a().onpop&&a().onpop(a().id,{event:d}),f&&f()}),F(()=>($(r),N(a()),i()),()=>{$(r)!==a().next&&(B(r,a().next),B(o,i()),B(c,!1),s.set($(r)).then(b))}),F(()=>N(a()),()=>{if(a().component){const{props:g={},sendIdTo:x}=a().component;B(l,{...g,...x&&{[x]:a().id}})}}),F(()=>N(a()),()=>{m(a().progress)||a(a().next=a().progress,!0)}),gt(),Y();var _=Le(),C=p(_),A=p(C);{var k=g=>{var x=dt(),z=Q(x);ie(z,()=>a().component.src,(It,At)=>{At(It,ne(()=>$(l)))}),T(g,x)},O=g=>{var x=dt(),z=Q(x);ce(z,()=>a().msg),T(g,x)};V(A,g=>{a().component?g(k):g(O,!1)})}u(C);var I=E(C,2);{var S=g=>{var x=Be();G("click",x,z=>v(z)),G("keydown",x,z=>{z instanceof KeyboardEvent&&["Enter"," "].includes(z.key)&&v(z)}),T(g,x)};V(I,g=>{a().dismissable&&g(S)})}var H=E(I,2);u(_),P(()=>{ut(_,"pe",a().pausable),ut(C,"pe",a().component),Qt(H,i())}),G("mouseenter",_,()=>{a().pausable&&w()}),G("mouseleave",_,h),T(t,_),U()}var je=R("<li><!></li>"),De=R('<ul class="_toastContainer svelte-yh90az"></ul>');function Fe(t,e){q(e,!1);const n=rt(),i=()=>W(et,"$toast",n);let a=tt(e,"options",24,()=>({})),r=tt(e,"target",8,"default"),o=D([]);function c(f){return f?Object.keys(f).reduce((d,s)=>`${d}${s}:${f[s]};`,""):void 0}F(()=>(N(r()),N(a())),()=>{et._init(r(),a())}),F(()=>(i(),N(r())),()=>{B(o,i().filter(f=>f.target===r()))}),gt(),Y();var l=De();re(l,13,()=>$(o),f=>f.id,(f,d)=>{var s=je();const v=ft(()=>{var h;return`${((h=$(d).classes)==null?void 0:h.join(" "))??""} svelte-yh90az`}),b=ft(()=>c($(d).theme));var w=p(s);Ne(w,{get item(){return $(d)}}),u(s),P(()=>{se(s,$(v)),Z(s,"style",$(b))}),ht(1,s,()=>ke,()=>$(d).intro),ht(2,s,()=>Ae),ue(s,()=>Me,()=>({duration:200})),T(f,s)}),u(l),T(t,l),U()}var Pe=R('<div class="layout svelte-1y2ft4y"><!> <main class="svelte-1y2ft4y"><article class="svelte-1y2ft4y"><!></article> <!></main> <!></div> <!>',1);function oa(t,e){q(e,!0),window.addEventListener("beforeinstallprompt",s=>{s.preventDefault(),window.deferredPrompt=s,alert("Please install the application.")});var n=Pe(),i=Q(n),a=p(i);Ce(a,{});var r=E(a,2),o=p(r),c=p(o);Xt(c,()=>e.children),u(o);var l=E(o,2);we(l,{}),u(r);var f=E(r,2);Ee(f),u(i);var d=E(i,2);Fe(d,{}),T(t,n),U()}export{oa as component,ia as universal};
