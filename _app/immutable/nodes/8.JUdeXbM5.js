import{g as x}from"../chunks/entry._DRBzLai.js";import{w as j}from"../chunks/load.Miz63xxY.js";import{e as y}from"../chunks/index.DNqC2nNx.js";import{a as S}from"../chunks/api.Bh-1b4gR.js";import{c as A,a as v,t as _}from"../chunks/disclose-version.Cuusjamg.js";import{W as w,S as g,X as T,T as n,P as p,ad as B,U as C,V as $,aI as M,R as W,t as H,ay as O}from"../chunks/utils.D86ytmYn.js";import{h as P}from"../chunks/svelte-head.Ty0Ywc9y.js";import{r as z}from"../chunks/routes.Dwm6VSLZ.js";import"../chunks/legacy.HyJtNDBX.js";import{t as b}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.DgoVLbBC.js";import{H as F}from"../chunks/Header.CeRtMIh5.js";import{T as L,a as N,M as R}from"../chunks/Menu.CSIjBQQW.js";import{i as U}from"../chunks/if.wMMPy1xP.js";import{p as V,a as X}from"../chunks/props.Cm6S0U6n.js";import{s as Y,a as q}from"../chunks/store.1bfGZDkW.js";import{i as G}from"../chunks/auth.Dm-wacJf.js";import{S as J}from"../chunks/SignIn.BDveUMTg.js";import{T as K,B as Q}from"../chunks/Button.Jyc0ZB9I.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new a.Error().stack;t&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[t]="326fee34-f7f1-471e-ba89-22579f35b259",a._sentryDebugIdIdentifier="sentry-dbid-326fee34-f7f1-471e-ba89-22579f35b259")}catch{}})();const I=async({params:a})=>{const t=a.id;t||y(404);const e=await S.getTree(t);return e.status!==200&&y(404),{id:t,tree:e.data}},Z=I?j(I):void 0,we=Object.freeze(Object.defineProperty({__proto__:null,load:Z},Symbol.toStringTag,{value:"Module"}));function ee(a,t){let e=V(t,"value",12,"");K(a,{label:"Comment",multiline:!0,hint:"Some hints or suggested edits.",get value(){return e()},set value(d){e(d)},$$legacy:!0})}var te=_('<p>Would you like to add a comment?</p> <!> <div class="buttons svelte-1klurmp"><!></div>',1),ae=_("<p>You need to be authenticated to add comments.</p> <!>",1);function oe(a,t){w(t,!0);const e=Y(),d=()=>q(G,"$isAuthenticated",e);let i=M("");const u=()=>{t.onSubmit(p(i))};var m=A(),l=g(m);{var c=r=>{var s=te(),o=n(g(s),2);ee(o,{get value(){return p(i)},set value(E){B(i,X(E))}});var h=n(o,2),k=C(h),D=W(()=>!p(i));Q(k,{onClick:u,label:"Submit comment",get disabled(){return p(D)}}),$(h),v(r,s)},f=r=>{var s=ae(),o=n(g(s),2);J(o),v(r,s)};U(l,r=>{d()?r(c):r(f,!1)})}v(a,m),T()}var re=_('<!> <!> <!> <!> <div class="container svelte-11j1l8y"><p>No comments for this tree yet.</p> <!></div>',1);function Te(a,t){w(t,!0);const e=t.data.tree,d=s=>{S.addComment(e.id,s).then(o=>{o.status>=200&&o.status<300?(b.push("Comment added."),x(z.treeDetails(e.id))):(console.info(`Error ${o.status} adding a comment.`),b.push("Error adding comment."))}).catch(o=>{console.error("Exception while adding a comment.",o),b.push("Error adding comment.")})};var i=re();P(s=>{H(()=>O.title=`${e.species??""} - Details`)});var u=g(i);F(u,{title:"Tree"});var m=n(u,2);L(m,{get title(){return e.species}});var l=n(m,2);N(l,{get tree(){return e.id},active:"comments"});var c=n(l,2);R(c,{get id(){return e.id}});var f=n(c,2),r=n(C(f),2);oe(r,{onSubmit:d}),$(f),v(a,i),T()}export{Te as component,we as universal};
//# sourceMappingURL=8.JUdeXbM5.js.map
