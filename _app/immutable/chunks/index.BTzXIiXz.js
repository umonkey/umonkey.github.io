import{l as a,v as _,w as I,x as D}from"./utils.Dgi77uK7.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="25706d7a-c32c-434d-a225-65f599205144",e._sentryDebugIdIdentifier="sentry-dbid-25706d7a-c32c-434d-a225-65f599205144")}catch{}})();const f=[];function m(e,n){return{subscribe:q(e,n).subscribe}}function q(e,n=a){let s=null;const o=new Set;function i(r){if(D(e,r)&&(e=r,s)){const u=!f.length;for(const t of o)t[1](),f.push(t,e);if(u){for(let t=0;t<f.length;t+=2)f[t][0](f[t+1]);f.length=0}}}function l(r){i(r(e))}function d(r,u=a){const t=[r,u];return o.add(t),o.size===1&&(s=n(i,l)||a),r(e),()=>{o.delete(t),o.size===0&&s&&(s(),s=null)}}return{set:i,update:l,subscribe:d}}function x(e,n,s){const o=!Array.isArray(e),i=o?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=n.length<2;return m(s,(d,r)=>{let u=!1;const t=[];let b=0,p=a;const g=()=>{if(b)return;p();const c=n(o?t[0]:t,d,r);l?d(c):p=typeof c=="function"?c:a},w=i.map((c,y)=>_(c,h=>{t[y]=h,b&=~(1<<y),u&&g()},()=>{b|=1<<y}));return u=!0,g(),function(){I(w),p(),u=!1}})}function z(e){let n;return _(e,s=>n=s)(),n}export{x as d,z as g,q as w};
