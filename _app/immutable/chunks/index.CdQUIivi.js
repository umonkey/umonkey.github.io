import{l as a,v as _,w as I,x as D}from"./utils.Dgi77uK7.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="fd92f792-2f85-4e17-967c-38a28ed7d191",e._sentryDebugIdIdentifier="sentry-dbid-fd92f792-2f85-4e17-967c-38a28ed7d191")}catch{}})();const c=[];function m(e,n){return{subscribe:q(e,n).subscribe}}function q(e,n=a){let s=null;const o=new Set;function i(r){if(D(e,r)&&(e=r,s)){const u=!c.length;for(const t of o)t[1](),c.push(t,e);if(u){for(let t=0;t<c.length;t+=2)c[t][0](c[t+1]);c.length=0}}}function d(r){i(r(e))}function l(r,u=a){const t=[r,u];return o.add(t),o.size===1&&(s=n(i,d)||a),r(e),()=>{o.delete(t),o.size===0&&s&&(s(),s=null)}}return{set:i,update:d,subscribe:l}}function x(e,n,s){const o=!Array.isArray(e),i=o?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const d=n.length<2;return m(s,(l,r)=>{let u=!1;const t=[];let b=0,p=a;const g=()=>{if(b)return;p();const f=n(o?t[0]:t,l,r);d?l(f):p=typeof f=="function"?f:a},w=i.map((f,y)=>_(f,h=>{t[y]=h,b&=~(1<<y),u&&g()},()=>{b|=1<<y}));return u=!0,g(),function(){I(w),p(),u=!1}})}function z(e){let n;return _(e,s=>n=s)(),n}export{x as d,z as g,q as w};
