import{e as ee,b as ae,f as P,h as C,s as k,a as re,i as ne,g as Q,H as ie,r as G,j as M,d as N,I as D,k as W,c as Z,p as fe,q as le,l as U,m as L,n as X,o as O,u as ue,v as se,w as te,x as ve,y as de,z as _e,A as ce,B as oe,C as he,D as J,F as Ee,G as pe}from"./utils.BFcvIjER.js";let y=null;function xe(l,e){return e}function Ae(l,e,r,s){for(var t=[],d=e.length,u=0;u<d;u++)ue(e[u].e,t,!0);var c=d>0&&t.length===0&&r!==null;if(c){var A=r.parentNode;se(A),A.append(r),s.clear(),x(l,e[0].prev,e[d-1].next)}te(t,()=>{for(var h=0;h<d;h++){var v=e[h];c||(s.delete(v.k),x(l,v.prev,v.next)),ve(v.e,!c)}})}function Ce(l,e,r,s,t,d=null){var u=l,c={flags:e,items:new Map,first:null},A=(e&P)!==0;if(A){var h=l;u=C?k(de(h)):h.appendChild(ee())}C&&re();var v=null,w=!1;ae(()=>{var n=r(),_=ne(n)?n:n==null?[]:Q(n),a=_.length;if(w&&a===0)return;w=a===0;let I=!1;if(C){var E=u.data===ie;E!==(a===0)&&(u=G(),k(u),M(!1),I=!0)}if(C){for(var p=null,m,o=0;o<a;o++){if(N.nodeType===8&&N.data===_e){u=N,I=!0,M(!1);break}var i=_[o],f=s(i,o);m=$(N,c,p,null,i,f,o,t,e),c.items.set(f,m),p=m}a>0&&k(G())}if(!C){var R=ce;me(_,c,u,t,e,(R.f&D)!==0,s)}d!==null&&(a===0?v?W(v):v=Z(()=>d(u)):v!==null&&fe(v,()=>{v=null})),I&&M(!0),r()}),C&&(u=N)}function me(l,e,r,s,t,d,u){var B,V,Y,z;var c=(t&oe)!==0,A=(t&(L|O))!==0,h=l.length,v=e.items,w=e.first,n=w,_,a=null,I,E=[],p=[],m,o,i,f;if(c)for(f=0;f<h;f+=1)m=l[f],o=u(m,f),i=v.get(o),i!==void 0&&((B=i.a)==null||B.measure(),(I??(I=new Set)).add(i));for(f=0;f<h;f+=1){if(m=l[f],o=u(m,f),i=v.get(o),i===void 0){var R=n?n.e.nodes_start:r;a=$(R,e,a,a===null?e.first:a.next,m,o,f,s,t),v.set(o,a),E=[],p=[],n=a.next;continue}if(A&&Ie(i,m,f,t),i.e.f&D&&(W(i.e),c&&((V=i.a)==null||V.unfix(),(I??(I=new Set)).delete(i))),i!==n){if(_!==void 0&&_.has(i)){if(E.length<p.length){var g=p[0],T;a=g.prev;var q=E[0],S=E[E.length-1];for(T=0;T<E.length;T+=1)K(E[T],g,r);for(T=0;T<p.length;T+=1)_.delete(p[T]);x(e,q.prev,S.next),x(e,a,q),x(e,S,g),n=g,a=S,f-=1,E=[],p=[]}else _.delete(i),K(i,n,r),x(e,i.prev,i.next),x(e,i,a===null?e.first:a.next),x(e,a,i),a=i;continue}for(E=[],p=[];n!==null&&n.k!==o;)(d||!(n.e.f&D))&&(_??(_=new Set)).add(n),p.push(n),n=n.next;if(n===null)continue;i=n}E.push(i),a=i,n=i.next}if(n!==null||_!==void 0){for(var H=_===void 0?[]:Q(_);n!==null;)(d||!(n.e.f&D))&&H.push(n),n=n.next;var b=H.length;if(b>0){var j=t&P&&h===0?r:null;if(c){for(f=0;f<b;f+=1)(Y=H[f].a)==null||Y.measure();for(f=0;f<b;f+=1)(z=H[f].a)==null||z.fix()}Ae(e,H,j,v)}}c&&le(()=>{var F;if(I!==void 0)for(i of I)(F=i.a)==null||F.apply()}),U.first=e.first&&e.first.e,U.last=a&&a.e}function Ie(l,e,r,s){s&L&&X(l.v,e),s&O?X(l.i,r):l.i=r}function $(l,e,r,s,t,d,u,c,A){var h=y,v=(A&L)!==0,w=(A&Ee)===0,n=v?w?he(t):J(t):t,_=A&O?J(u):u,a={i:_,v:n,k:d,a:null,e:null,prev:r,next:s};y=a;try{return a.e=Z(()=>c(l,n,_),C),a.e.prev=r&&r.e,a.e.next=s&&s.e,r===null?e.first=a:(r.next=a,r.e.next=a.e),s!==null&&(s.prev=a,s.e.prev=a.e),a}finally{y=h}}function K(l,e,r){for(var s=l.next?l.next.e.nodes_start:r,t=e?e.e.nodes_start:r,d=l.e.nodes_start;d!==s;){var u=pe(d);t.before(d),d=u}}function x(l,e,r){e===null?l.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}export{y as c,Ce as e,xe as i};
